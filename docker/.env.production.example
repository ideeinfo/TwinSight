# ============================================
# Twinsight 生产环境配置模板
# ============================================
# 复制此文件为 .env 并填写实际值
# 带 :? 的变量为必填项

# ==================== 基础配置 ====================

# 时区
TZ=Asia/Shanghai

# 域名（用于 SSL 和 Webhook）
DOMAIN=your-domain.com

# ==================== 数据库配置 ====================

# PostgreSQL 配置（必填）
DB_HOST=postgres
DB_PORT=5432
DB_NAME=twinsight
DB_USER=postgres
DB_PASSWORD=your_secure_password_here

# Railway 等云服务会自动注入此变量
# DATABASE_URL=postgresql://user:pass@host:5432/dbname

# ==================== InfluxDB 配置 ====================

INFLUX_ORG=demo
INFLUX_BUCKET=twinsight
INFLUX_USER=admin
INFLUX_PASSWORD=your_influx_password
INFLUX_TOKEN=your_influx_admin_token

# ==================== AI 服务配置 ====================

# Google Gemini API Key（必填，用于 AI 分析和 Open WebUI）
GEMINI_API_KEY=your_gemini_api_key_here

# n8n 工作流配置
N8N_HOST=localhost
N8N_PROTOCOL=https
N8N_WEBHOOK_URL=https://your-domain.com/webhook/
N8N_AUTH_USER=admin
N8N_AUTH_PASSWORD=your_n8n_password

# Open WebUI 配置
WEBUI_NAME=Twinsight AI
ENABLE_SIGNUP=false

# ==================== 监控服务配置 ====================

# Grafana 配置
GRAFANA_USER=admin
GRAFANA_PASSWORD=your_grafana_password
GRAFANA_ROOT_URL=https://your-domain.com/grafana/

# ==================== 管理工具配置 ====================

# pgAdmin 配置（可选，仅开发/调试时使用）
PGADMIN_EMAIL=admin@twinsight.com
PGADMIN_PASSWORD=your_pgadmin_password

# ==================== 通知配置 ====================

# SMTP 邮件配置（用于告警通知）
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password

# 阿里云短信配置（可选）
ALIYUN_ACCESS_KEY_ID=
ALIYUN_ACCESS_KEY_SECRET=
ALIYUN_SMS_SIGN_NAME=
ALIYUN_SMS_TEMPLATE_CODE=

# 企业微信配置（可选）
WECOM_WEBHOOK_URL=

# ============================================
# 配置说明
# ============================================
#
# 1. 必填项：
#    - DB_PASSWORD: PostgreSQL 密码
#    - GEMINI_API_KEY: Google Gemini API 密钥
#    - N8N_AUTH_PASSWORD: n8n 管理密码
#
# 2. 获取 Gemini API Key:
#    https://makersuite.google.com/app/apikey
#
# 3. SSL 证书:
#    将证书文件放置在 ./ssl/ 目录:
#    - fullchain.pem (证书链)
#    - privkey.pem (私钥)
#
# 4. 使用说明:
#    cp .env.production.example .env
#    # 编辑 .env 填写实际值
#    docker-compose -f docker-compose.prod.yml up -d
#
# ============================================
