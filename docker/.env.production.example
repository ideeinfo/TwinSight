# ========================================
# Twinsight 生产环境环境变量模板
# ========================================
# 复制此文件为 .env 并填写实际值
# cp .env.production.example .env
#
# 重要安全提示:
# 1. 生产环境必须使用强密码
# 2. 此文件不应提交到版本控制
# 3. 设置文件权限: chmod 600 .env
# ========================================

# ======== 基础配置 ========
NODE_ENV=production
TZ=Asia/Shanghai

# ======== 域名配置 ========
# 替换为您的实际域名
DOMAIN=your-domain.com
# 服务器公网 IP（如无域名）
# SERVER_IP=xxx.xxx.xxx.xxx

# ======== PostgreSQL 配置 ========
DB_USER=postgres
# 生产密码要求: 16位以上，包含大小写+数字+特殊字符
DB_PASSWORD=CHANGE_ME_Ts#Pr0d@2026$Secure!
DB_NAME=twinsight

# ======== InfluxDB 配置 ========
INFLUX_USER=admin
INFLUX_PASSWORD=CHANGE_ME_Inf1ux#Pr0d@2026!
INFLUX_ORG=demo
INFLUX_BUCKET=twinsight
# 生产环境应生成新的 Token
# 使用命令: openssl rand -base64 64
INFLUX_TOKEN=CHANGE_ME_GENERATE_NEW_TOKEN

# ======== n8n 配置 ========
N8N_HOST=0.0.0.0
N8N_PROTOCOL=https
N8N_USER=admin@your-domain.com
N8N_PASSWORD=CHANGE_ME_N8n#Pr0d@2026$AI!
# Webhook URL (替换为实际域名)
N8N_WEBHOOK_URL=https://your-domain.com/n8n/

# ======== Open WebUI 配置 ========
WEBUI_NAME=Twinsight AI
# 生产环境建议关闭公开注册
ENABLE_SIGNUP=false

# ======== AI 服务配置 ========
# Gemini API Key (从 https://aistudio.google.com/app/apikey 获取)
GEMINI_API_KEY=CHANGE_ME_YOUR_GEMINI_API_KEY

# (可选) 阿里云大陆部署使用国产大模型
# DEEPSEEK_API_KEY=CHANGE_ME_YOUR_DEEPSEEK_API_KEY
# OPENAI_API_BASE_URLS=https://api.deepseek.com/v1

# ======== Grafana 配置 ========
GRAFANA_USER=admin
GRAFANA_PASSWORD=CHANGE_ME_Graf@Pr0d2026!
GRAFANA_ROOT_URL=https://your-domain.com/grafana/

# ======== SSL 证书配置 ========
# Let's Encrypt 证书路径
SSL_CERT_PATH=/etc/letsencrypt/live/your-domain.com/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/your-domain.com/privkey.pem

# ======== 日志配置 ========
LOG_LEVEL=info
# 生产环境不输出敏感信息
LOG_SENSITIVE=false

# ========================================
# 部署检查清单:
# ========================================
# [ ] 所有 CHANGE_ME_ 前缀的值已替换
# [ ] 域名/IP 已正确配置
# [ ] 文件权限已设置为 600
# [ ] 密码符合强度要求
# [ ] API 密钥已配置
# ========================================
